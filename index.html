<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday Dhruve</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Stars Background -->
    <div class="stars" id="starsContainer"></div>

    <!-- Background Music -->
    <audio id="backgroundMusic" loop>
      <source src="happy-birthday-254480.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <!-- Music Control Button -->
    <button id="musicToggle" class="music-toggle">ðŸ”Š</button>

    <div class="card">
      <h1>
        <span>H</span><span>a</span><span>p</span><span>p</span><span>y</span>
        <span>&nbsp;</span>
        <span>B</span><span>i</span><span>r</span><span>t</span><span>h</span
        ><span>d</span><span>a</span><span>y</span>
        <span>&nbsp;</span>
        <span>D</span><span>h</span><span>r</span><span>u</span><span>v</span
        ><span>e</span>
      </h1>

      <div class="birthday-msg" id="birthdayMsg">
        ðŸŽ‚ It's Your Special Day! ðŸŽ‚
      </div>

      <div id="timer">
        <div class="time-unit"><span id="days">00</span>d</div>
        <div class="time-unit"><span id="hours">00</span>h</div>
        <div class="time-unit"><span id="minutes">00</span>m</div>
        <div class="time-unit"><span id="seconds">00</span>s</div>
      </div>

      <div class="unlock-section">
        <input type="password" id="password" placeholder="Enter password" />
        <button id="enterBtn">ðŸ”“ Unlock Surprise</button>
      </div>

      <p id="error"></p>
    </div>

    <style>
      /* Music Toggle Button */
      .music-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.3);
        background: rgba(255, 77, 109, 0.3);
        backdrop-filter: blur(10px);
        color: white;
        font-size: 24px;
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .music-toggle:hover {
        transform: scale(1.1);
        background: rgba(255, 77, 109, 0.5);
        box-shadow: 0 0 20px rgba(255, 77, 109, 0.6);
      }

      .music-toggle.muted {
        opacity: 0.5;
      }
    </style>

    <script src="script.js"></script>
    <script>
      // Auto-play background music
      window.addEventListener("DOMContentLoaded", () => {
        const music = document.getElementById("backgroundMusic");
        const musicToggle = document.getElementById("musicToggle");

        music.volume = 0.3; // Set volume to 30%

        // Try to autoplay
        const playPromise = music.play();

        if (playPromise !== undefined) {
          playPromise
            .then(() => {
              console.log("Background music started!");
              musicToggle.textContent = "ðŸ”Š";
            })
            .catch((error) => {
              console.log("Autoplay blocked - user interaction needed");
              musicToggle.textContent = "ðŸ”‡";
              musicToggle.classList.add("muted");
            });
        }

        // Toggle music on/off
        musicToggle.addEventListener("click", () => {
          if (music.paused) {
            music.play();
            musicToggle.textContent = "ðŸ”Š";
            musicToggle.classList.remove("muted");
          } else {
            music.pause();
            musicToggle.textContent = "ðŸ”‡";
            musicToggle.classList.add("muted");
          }
        });

        // Play music on first user interaction if not playing
        document.addEventListener(
          "click",
          function playOnClick() {
            if (music.paused) {
              music
                .play()
                .then(() => {
                  musicToggle.textContent = "ðŸ”Š";
                  musicToggle.classList.remove("muted");
                })
                .catch((e) => console.log("Play failed"));
            }
          },
          { once: true }
        );
      });
    </script>
  </body>
</html>
